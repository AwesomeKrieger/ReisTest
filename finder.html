<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kink Finder | Liquid Glass</title>
  <style>
    :root {
      --bg: #000000;
      --glass: rgba(25, 25, 25, 0.75);
      --glass-border: rgba(255, 255, 255, 0.1);
      --text: #ffffff;
      --accent: #ff2d55;
      --sub-text: rgba(255, 255, 255, 0.5);
      --neutral: #555;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 40px 20px;
    }

    .container { width: 100%; max-width: 680px; }

    h1 {
      font-size: 2.6rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 40px;
      letter-spacing: -1px;
    }

    .glass-shell {
      background: var(--glass);
      backdrop-filter: blur(35px) saturate(160%);
      border: 1px solid var(--glass-border);
      border-radius: 28px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      overflow: hidden;
      padding: 32px;
    }

    .question-text {
      font-size: 1.3rem;
      margin-bottom: 32px;
      line-height: 1.4;
    }

    .scale {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      margin: 32px 0;
    }

    .scale-btn {
      flex: 1;
      padding: 16px 8px;
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      background: rgba(255,255,255,0.05);
      color: var(--text);
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }

    .scale-btn:hover { background: rgba(255,45,85,0.15); border-color: var(--accent); }

    .scale-btn.selected {
      background: var(--accent);
      border-color: var(--accent);
      color: white;
      font-weight: bold;
    }

    .next-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 18px 40px;
      border-radius: 16px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      margin: 32px auto 0;
      display: block;
      opacity: 0.5;
      pointer-events: none;
      transition: all 0.3s;
    }

    .next-btn.active {
      opacity: 1;
      pointer-events: auto;
    }

    .progress {
      height: 6px;
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
      margin: 20px 0;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: var(--accent);
      width: 0%;
      transition: width 0.4s ease;
    }

    #result-view { display: none; text-align: center; padding: 60px 20px; }

    .kink-card {
      background: rgba(255,45,85,0.12);
      border: 1px solid rgba(255,45,85,0.3);
      border-radius: 16px;
      padding: 20px;
      margin: 16px auto;
      max-width: 480px;
      text-align: left;
    }

    .kink-name { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 8px; }
    .kink-desc { font-size: 0.95rem; opacity: 0.9; }

    .btn { 
      background: var(--accent); color: white; border: none; 
      padding: 16px 32px; border-radius: 16px; font-size: 1.1rem; font-weight: 600;
      cursor: pointer; margin: 20px auto; display: block; 
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Kink Finder</h1>

  <div id="quiz-view">
    <div class="glass-shell">
      <div class="question-text" id="question-text"></div>
      <div class="scale" id="scale-options"></div>
      <button class="next-btn" id="next-btn">Weiter</button>
    </div>
    <div class="progress"><div class="progress-bar" id="progress-bar"></div></div>
    <div class="progress-text" id="progress-text">Frage 1 / 20</div>
  </div>

  <div id="result-view">
    <h2>Deine wahrscheinlichsten Kinks</h2>
    <div id="kinks-list"></div>
    <button class="btn" onclick="location.reload()">Neu starten</button>
  </div>
</div>

<script>
// ──────────────────────────────────────────────
// Daten
// ──────────────────────────────────────────────
const kinks = {
  dominant:    { score: 0, name: "Dominant",    desc: "Du steuerst gerne und gibst Befehle." },
  submissive:  { score: 0, name: "Submissive",  desc: "Du findest es erregend, dich hinzugeben." },
  sadist:      { score: 0, name: "Sadist",      desc: "Schmerz zufügen macht dich an." },
  masochist:   { score: 0, name: "Masochist",   desc: "Schmerz erleiden erregt dich." },
  bondage:     { score: 0, name: "Bondage",     desc: "Fesseln, Hilflosigkeit, Kontrollverlust." },
  exhibition:  { score: 0, name: "Exhibitionist", desc: "Öffentlich / gesehen werden erregt dich." },
  voyeur:      { score: 0, name: "Voyeur",      desc: "Zuschauen oder heimlich beobachten." },
  degrader:    { score: 0, name: "Degrader",    desc: "Erniedrigen und Demütigen verbal." },
  degradee:    { score: 0, name: "Degradee",    desc: "Erniedrigt und gedemütigt werden." },
  primal:      { score: 0, name: "Primal",      desc: "Roher, animalischer, jagender Sex." },
  ddlg:        { score: 0, name: "DDLG / Caregiver", desc: "Fürsorge, Bestrafung, kleines Mädchen/Junge." },
  petplay:     { score: 0, name: "Pet Play",    desc: "Als Tier behandelt werden / behandeln." }
};

const questions = [
  { q: "Ich mag es, die Kontrolle zu haben und Befehle zu geben.", scores: { dominant:4, degrader:2 } },
  { q: "Es erregt mich extrem, wenn ich mich jemandem komplett hingebe.", scores: { submissive:5, ddlg:2 } },
  { q: "Jemanden zu schlagen, zu beißen oder Schmerz zuzufügen macht mich an.", scores: { sadist:5, primal:2 } },
  { q: "Schmerz spüren (Spanking, Beißen, Kneifen…) erregt mich sehr.", scores: { masochist:5, submissive:2 } },
  { q: "Gefesselt, hilflos oder bewegungsunfähig zu sein ist geil.", scores: { bondage:5, submissive:3 } },
  { q: "Der Gedanke, nackt oder fast nackt gesehen zu werden, macht mich an.", scores: { exhibition:5, degradee:1 } },
  { q: "Zuzuschauen, wie andere Sex haben oder heimlich beobachten ist erregend.", scores: { voyeur:5 } },
  { q: "Jemanden verbal runterzumachen oder zu erniedrigen erregt mich.", scores: { degrader:5, dominant:2 } },
  { q: "Verbal gedemütigt, beschimpft oder erniedrigt zu werden ist geil.", scores: { degradee:5, submissive:2 } },
  { q: "Roher, animalischer Sex mit Beißen, Kratzen und Kämpfen macht mich an.", scores: { primal:5, sadist:2, masochist:2 } },
  { q: "Fürsorgliche / strenge Daddy/Mommy-Dynamik oder kleines Mädchen/Junge erregt mich.", scores: { ddlg:5, submissive:2, dominant:2 } },
  { q: "Als Haustier (Hund, Katze, Pony…) behandelt zu werden oder jemanden so zu behandeln.", scores: { petplay:5, submissive:2, dominant:2 } }
];

// ──────────────────────────────────────────────
// Logik
// ──────────────────────────────────────────────
let currentQuestionIndex = 0;
let askedQuestions = 0;
const MAX_QUESTIONS = 20;
let selectedValue = null;

const questionText = document.getElementById("question-text");
const scaleOptions = document.getElementById("scale-options");
const nextBtn = document.getElementById("next-btn");

const scaleLabels = [
  "Stimme gar nicht zu", "Stimme eher nicht zu", "Neutral", "Stimme eher zu", "Stimme voll zu"
];

function renderQuestion() {
  selectedValue = null;
  nextBtn.classList.remove("active");
  nextBtn.disabled = true;

  const q = questions[currentQuestionIndex];
  questionText.textContent = q.q;

  scaleOptions.innerHTML = "";
  scaleLabels.forEach((label, index) => {
    const btn = document.createElement("button");
    btn.className = "scale-btn";
    btn.textContent = label;
    btn.onclick = () => {
      document.querySelectorAll(".scale-btn").forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");
      selectedValue = index; // 0 = gar nicht, 4 = voll zu
      nextBtn.classList.add("active");
      nextBtn.disabled = false;
    };
    scaleOptions.appendChild(btn);
  });

  updateProgress();
}

function updateProgress() {
  const percent = Math.round((askedQuestions / MAX_QUESTIONS) * 100);
  document.getElementById("progress-bar").style.width = percent + "%";
  document.getElementById("progress-text").textContent = `Frage ${askedQuestions + 1} / ${MAX_QUESTIONS}`;
}

nextBtn.onclick = () => {
  if (selectedValue === null) return;

  const q = questions[currentQuestionIndex];
  const val = selectedValue / 4; // 0 bis 1 (normalisiert)

  Object.entries(q.scores).forEach(([kink, weight]) => {
    kinks[kink].score += val * weight;
  });

  askedQuestions++;

  if (askedQuestions >= MAX_QUESTIONS) {
    showResult();
  } else {
    currentQuestionIndex = (currentQuestionIndex + 1) % questions.length;
    renderQuestion();
  }
};

function showResult() {
  document.getElementById("quiz-view").style.display = "none";
  document.getElementById("result-view").style.display = "block";

  const list = document.getElementById("kinks-list");
  list.innerHTML = "";

  const sorted = Object.entries(kinks)
    .sort((a,b) => b[1].score - a[1].score)
    .slice(0,5);

  const totalScore = sorted.reduce((sum, [,v]) => sum + v.score, 0) || 1;

  sorted.forEach(([key, data]) => {
    const percent = Math.round((data.score / totalScore) * 100);
    if (percent < 10) return;

    const card = document.createElement("div");
    card.className = "kink-card";
    card.innerHTML = `
      <div class="kink-name">${data.name} (${percent}%)</div>
      <div class="kink-desc">${data.desc}</div>
    `;
    list.appendChild(card);
  });
}

// Start
renderQuestion();
</script>
</body>
</html>